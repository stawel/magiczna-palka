
\chapter*{Wprowadzenie}
\addcontentsline{toc}{chapter}{Wprowadzenie}

W dzisiejszym świecie wyraźnie wzrasta zapotrzebowanie na urządzenia,
które potrafią określić swoje położenie i orientację w otaczającej je przestrzeni.
Urządzenia takie mają szerokie zastosowanie w wielu dziedzinach, m.in. w
wirtualnej rzeczywistości, rozszerzonej rzeczywistości, 
 podczas trójwymiarowego skanowania obiektu czy kartografii.
Przykładowo okulary do wirtualnej rzeczywistości, takie jak \textit{Oculus Rift} \cite{bib:OculusRift} 
czy \textit{castAR} \cite{bib:castAR},
muszą uwzględnić położenie i orientację głowy, aby na tej podstawie wyświetlić użytkownikowi 
odpowiednią treść. 


Dotychczas powstało wiele rozwiązań tego problemu. Do najczęściej stosowanych możemy zaliczyć:
\begin{enumerate}
 \item 
 Wykorzystanie akcelerometrów, żyroskopów i magnetometrów -- 
takie rozwiązanie zastosowano w \textit{Oculus Rift development kit}. Zaletami tej metody są stosunkowo
prosta konstrukcja i niska cena.
Do wad należy zaliczyć brak stałych punktów odniesienia, co skutkuje występowaniem tzw. dryftu.
\textit{Oculus Rift development kit} radzi sobie z tym problemem, modelując w komputerze możliwe zmiany pozycji głowy.
Jednak rozwiązanie to jest dalekie od idealnego, o czym może świadczyć fakt, że w kolejnej wersji 
urządzenia dodano zewnętrzną kamerę śledzącą pozycję głowy.

\item \label{itm:second_method}
 Projektowanie światła strukturalnego na otoczenie i zbieranie informacji o strukturze 
 światła odbitego za pomocą sensorów, zazwyczaj kamer -- 
 taką metodę wykorzystano w \textit{Microsoft Kinnect} \cite{bib:MicrosoftKinect}.
 Urządzenie projektuje na otoczenie stały wzór punktów, następnie kamerą na podczerwień
 zbiera informację o zniekształceniu danego wzoru i na tej podstawie odtwarza  
 trójwymiarową strukturę otoczenia i położenie urządzenia w tym otoczeniu.
 Podobną metodę wykorzystuje \textit{Oculus Rift development kit 2} \cite{bib:OculusRiftDK2} oraz 
 \textit{castAR} \cite{bib:castAR} -- tutaj za źródła światła służą diody podczerwone umieszczone na okularach.
 Emitowane przez nie światło jest rejestrowane przez kamerę umieszczoną przed użytkownikiem.
 Komputer na podstawie względnego położenia widocznych punktów określa położenie i orientację
 okularów w przestrzeni.
 Zaletą tego rozwiązania są stałe punkty odniesienia (kamera), a także możliwość pomiaru wielu punktów naraz.
 Wadami są stosunkowo niska rozdzielczość, szczególnie w osi Z i duży strumień danych do obróbki.

\item
 Wykorzystanie wielu zdjęć, na postawie których 
 wyznaczana jest pozycja kamery względem znajdujących się na nich  stałych (niezmieniających się w czasie) obiektów. 
 Możliwa jest też odwrotna sytuacja, gdy  
  kamera (lub wiele kamer) jest punktem stałym i względem niej wyznaczana jest pozycja fotografowanych obiektów --   
 taką metodę wykorzystano w \textit{VidialSFM} \cite{bib:VisualSFM} oraz w \textit{The Pi 3D scanner project} \cite{bib:pi3dscan}. 
 Wadą tego rozwiązania jest dość niska rozdzielczość.
 
 \item
 Pomiar czasu jaki potrzebują fale elektromagnetyczne na dotarcie od nadajników o znanych położeniach 
 do obiektu, którego położenie nas interesuje.
 Znając czasu oraz prędkości rozchodzenia się fal wyznaczane są odległości pomiędzy nadajnikami a obiektem.
 Na podstawie odległości wyznaczana jest ostatecznie lokalizacja przestrzenna obiektu. 
 Metoda ta jest powszechnie stosowana w systemach takich jak GPS \cite{bib:gps}, GLONASS \cite{bib:GLONASS} czy Galileo \cite{bib:galileo}.
 Do zalet należy zaliczyć możliwe duże przestrzenie, na których lokalizowane są obiekty.
 Ze względy na dużą prędkość z jaką rozchodzą się fale elektromagnetyczne metoda ta cechuje się dość niską 
 dokładnością nieprzekraczającą \SI{10}{cm}.
 
 \item
 Pomiar siły sygnału radiowego (fal elektromagnetycznych) jaka dociera do obiektu, którego lokalizacja nas interesuje.
 Źródłem sygnału mogą być specjalnie do tego celu stworzone radiolatarnie np. \textit{Estimote Beacon} \cite{bib:beacon},
 czy inne nadajniki np. WiFi \cite{bib:lokWiFi}.
 Wadą tego rozwiązania jest niska dokładność pomiaru odległości, która wynosi maksymalnie kilkadziesiąt centymetrów.  
 
 \item
 Wykorzystanie ciepła emitowanego przez badany obiekt \cite{bib:PIRsens}.
 Metoda ta jest analogiczna do metody drugiej, z tą różnicą, że zrezygnowano w niej
 z dedykowanego źródła światła podczerwonego, w zamian wykorzystując naturalne światło podczerwone emitowane 
 przez badany obiekt. Wadą tutaj również jest stosunkowo niska dokładność pomiarowa.
 
 \item
 Wykorzystanie indukcji magnetycznej. Metoda polega na pomiarze siły zmiennego pola magnetycznego niskiej częstotliwości
 generowanego przez zewnętrzne anteny. Na podstawie siły pola estymowana jest odległość 
 od anten, a następnie lokalizacja przestrzenna obiektu.
 Główną zaletą tego podejścia jest fakt, że pole magnetyczne przenika przez większość materiałów, pozwala to na 
 lokalizację również pod ziemią \cite{bib:chomiki}. Do wad należy zaliczyć mały zasięg, ponieważ pole magnetyczne maleje 
 sześciennie wraz z odległością.   
 
 \item 
 Wykorzystanie nietypowych warunków zewnętrznych w jakim może znajdować się obiekt, którego lokalizacja nas interesuje.
 Przykładowo w pracy \textit{We Can Track You If You Take the Metro: Tracking Metro
Riders Using Accelerometers on Smartphones} \cite{bib:metro} autorom udało się określić położenie
użytkownika metra na podstawie danych z akcelerometru w jego telefonie.
Metoda ta jest jednak dość specyficzna i nie nadaje się do ogólnych zastosowań. 
 
\end{enumerate}
 

 W niniejszej pracy przedstawiono oparty na zmodyfikowanej czwartej metodzie prototyp, który zamiast 
 fal elektromagnetycznych wykorzystuje ultradźwięki. 
 Podejście to zapewnia dużo większą dokładność, szczególnie w osi Z, prostotę budowy, a także niższą cenę.
 Urządzenie składa się z dwóch części: odbiornika, na którym umieszczone są trzy mikrofony, i~nadajnika,
 na którym znajdują się cztery głośniki. Pomiędzy nimi dokonywany jest pomiar odległości z rozdzielczością
 dochodzącą do \SI{0,5}{mm}, dzięki czemu prototyp jest w stanie określić położenie nadajnika
w przestrzeni i jego orientację. 
Pomiar odległości dokonuje się za pomocą ultradźwięków o częstotliwości \SI{40}{kHz}.
Mimo iż ta metoda jest znana od wielu lat, to jest  rzadko stosowana do precyzyjnych pomiarów
z uwagi na relatywnie dużą długość fali ultradźwiękowej,
która dla częstotliwości \SI{40}{kHz} wynosi około \SI{8}{mm}.

Autorowi niniejszej pracy udało się to pozorne ograniczenie przezwyciężyć.
Ostatecznie urządzenie jest w stanie śledzić położenie nadajnika z rozdzielczością 
\SI{5000}{px} $\times$ \SI{5000}{px} $\times$ \SI{5000}{px} w przestrzeni ograniczonej sześcianem o rozmiarach 
\SI{2,5}{m} $\times$ \SI{2,5}{m}  $\times$ \SI{2,5}{m}, przy czasie odświeżania rzędu \SI{350}{ms}.
Warto podkreślić, że przyjęte parametry sześcianu wynikają ze względów praktycznych i bez 
problemu można je zwiększyć, zachowując stosunek rozdzielczości na metr.
Stosunkowo długi czas odświeżania zależy głównie od czasu,  
 jaki potrzebuje fala dźwiękowa, by się rozproszyć,
 tak by jej odbicia od powierzchni ścian nie wpływały na kolejne pomiary.

Należy również wspomnieć o innych pracach, które w podobny sposób podchodzą do problemu pozycjonowania. Przykładowo 
w pracy \textit{Ultrasonic 3D Wireless Computer Mouse} \cite{bib:mouse} przedstawiono prototyp myszki 3D, której
pozycja w przestrzeni określana jest za pomocą ultradźwięków, niemniej wykorzystany przez autorów algorytm wyznaczania 
odległości jest dużo bardziej podatny na błędy. Dodatkowo praca ta koncentruje się jedynie
na określaniu położenia myszki w przestrzeni, bez wyznaczania jej orientacji.
Kolejne ciekawe rozwiązanie stanowi rękawica dla graczy 
\textit{Power Glove} \cite{bib:powerGlove}, która pojawiła się w sprzedaży w  1989 roku \cite{bib:powerGlove2}. 
Ona również wykorzystuje ultradźwięki do wyznaczania pozycji
w przestrzeni, jednak nie odniosła  znaczącego sukcesu komercyjnego ze względu na wyjątkowo niską precyzję urządzenia.


